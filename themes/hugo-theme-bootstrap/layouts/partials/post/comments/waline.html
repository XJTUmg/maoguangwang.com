<script src="//cdn.jsdelivr.net/npm/@waline/client"></script>
{{- $params := .Site.Params.comment -}}
{{- with $params -}}
<div id="waline-module"></div>
<script>
  const locale = {
    nick: ' {{ i18n "nickname" }} ',
    placeholder: ' {{ i18n "comment-placeholder" }} ', 
    sofa: '',
  }
  const path = window.location.pathname
  new Waline({
    el: '#waline-module', 
    serverURL: "{{ $params.walineServerURL }}", 
    path: path.replace('zh-cn/', ''),
    lang: "{{ $.Language.Lang }}",
    visitor: true, 
    dark: "[data-mode='dark']",
    requiredMeta: [], 
    locale,
});
</script>
{{- end -}}
